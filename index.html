<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kurs Reacta - Tydzien 1</title>
    <script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        .App {
            font-family: sans-serif;
        }

        .Timebox {
            border: 1px solid gray;
            border-radius: 5px;
            padding: 20px;
            text-align: center;
        }

        .TimeboxEditor {
            text-align: right;
            border-radius: 5px;
            border: 1px solid gray;
            margin-bottom: 20px;
            padding: 20px;
        }

        .input {
            min-width: 60%;
            margin-left: 20px;
            font-size: 16px;;
        }
        
        .button {
            font-size: 16px;
            margin-left: 10px;
        }

        .Clock {
            color: orangered;
        }

        .ProgressBar {
            border-radius: 5px;
            border: 1px solid orangered;
            margin-bottom: 20px;
            height: 25px;
            padding: 5px;
        }

        .ProgressBar > div {
            height: 100%;
            background-color: orangered;
        }

        .inactive {
            filter: blur(2px) grayscale(1);
        }
    </style>
</head>
<body>
    <!-- <div id="root">
    </div> -->
    <h1>Kurs Reacta - Tydzien 1</h1>
    <hr>
    <div class="App"></div>
    <div id="root"></div>
</body>
<!-- <script src="script.js" type="text/javascript"></script> -->
<script type="text/babel">
    // const rootElement = document.querySelector('#root');
    // const element = (<Clock hours={5} minutes = {8} seconds = {4} miliseconds = {12} />);

    function Clock({hours = 1, minutes = 2, seconds = 3, miliseconds = 4}) {
        return <h2 className="Clock">Pozostało {hours > 9 ? hours : "0" + hours}:{minutes > 9 ? minuets : "0" + minutes}:{seconds > 9 ? seconds : "0" + seconds}:{miliseconds > 9 ? miliseconds : "0" + miliseconds}</h2>;
    }

    function ProgressBar({percent = "10", trackRemaining = "false"}) {
        return (            
            <div className="ProgressBar">
                <div style={{
                    width: `${percent}%`, 
                    height: "20px",
                    "marginLeft": trackRemaining == "true" ? "auto" : "initial"
                }}></div>
            </div>
        );
    }

    function TimeboxEditor() {
        return (
            <div className="TimeboxEditor inactive">
                <label htmlFor="">Co robisz?<input disabled value="Uczę się skrótów klawiszowych" type="text" /></label><br />
                <label htmlFor="">Ile minut?<input disabled value="25" type="number" /></label><br />
                <button>Zacznij</button>
            </div>
        );
    }

    class Timebox extends React.Component {
        constructor(props) {
            super(props);
            this.state = {
                isRunning: false,
                isPaused: false,
                pausesCount: 0
            };
        }
        handleStart(event) {
            this.setState({
                isRunning: true,
            });
        }
        handleStop(event) {
            this.setState({
                isRunning: false,
                isPaused: false,
                pausesCount: 0
            });
        } 
        render() {
            const {isRunning, isPaused, pausesCount} = this.state
            return (
                <div className="Timebox">
                    <h1>Uczę się skrótów klawiszowych</h1>
                    <Clock />
                    <ProgressBar trackRemaining = "false" />
                    <button onClick = {this.handleStart.bind(this)} disabled = {isRunning}>Start</button>
                    <button onClick = {this.handleStop.bind(this)} disabled = {!isRunning}>Stop</button>
                    <button disabled = {!isRunning}>{isPaused ? "Wznów" : "Pauzuj"}</button>
                    Liczba przerw: {pausesCount}
                </div>
            );
        }
    }

    function App() {
        return (    
            <div className="App">
                <TimeboxEditor />, 
                <Timebox />
            </div>
        );
    }

    ReactDOM.render(<App />, document.querySelector('#root'));
    //ReactDOM.render(<ProgressBar />, document.querySelector('#root2'));

</script>
</html>